# Section 1

### Docker란?

- 컨테이너 기술
- 컨테이너를 생성하고 관리하는 도구
    - 컨테이너는 표준화된 소프트웨어 유닛이다.
    - 컨테이너는 코드를 실행하기 위해 필요한 모든 도구들이 담겨 있다.
- standalone 으로 동작함(다른 환경과 섞이지 않음)

### 왜 컨테이너를 쓸까?

- 개발 환경이 각기 다름
(로컬 환경, 개발 환경, 로컬 머신, 원격 배포 환경 ... 등)
- 특정 버전을 도커로 고정할 수 있음 - 의존성 관리가 쉬움
- 회사 내에서도 개발 환경이 다를 수 있음
사내에서 같은 개발 환경을 공유하기 위해 사용 가능
- 단순히 다른 환경에서 작업하고 싶을 때 새로운 컨테이너를 만들면 됨

### 왜 도커를 쓸까?

다른 대체제로 Virtual Machine를 쓸 수 있다.

- 호스트 운영체제에 독립적인 자체 shell을 가진 캡슐화된 가상 운영체제를 가진 버추얼 머신을 써도 되지 않나?
- 버추얼 머신을 사용하면 호스트 운영체제에 그 위에 버추얼 머신을 사용한다
    - 그 버추얼 머신 내에 자체 운영체제인 가상 운영체제가 있다.
    - 그 위에 추가 도구를 설치할 수 있다. (필요한 라이브러리, 종속성, 도구 + 앱)
    - 이런 환경을 여러 개 가질 수 있고 도커와 같은 효과를 낼 수 있다.
- 문제는
    - 오버헤드가 크다는 점이다.
        - 실제 우리 머신 위에서 실행되는 standalone머신과 같음
        - 여러 대가 있을 때면 새로운 컴퓨터를 설치하고 메모리, CPU, 디스크 공간을 낭비하게 된다.
        - 버추얼 머신이 많아질 수록 문제가 더 많아짐 - 동일하게 복제되는 것들이 많음(특히 운영체제!)
        - 모든 머신에 동일하게 설치해야 함
        

장점은 

- 분리된 환경별로 구성할 수 있고
- 자원을 공유하고 재생산할 수 있다.

단점은 

- 수가 많아질수록 오버헤드가 커져 성능이 떨어진다.
- 또한 공유하고 싶은 자원은 해당하는 모든 시스템에 모두 따로 같은 방식으로 설치를 해줘야 한다.

### 도커는 어떻게 이런 문제를 해결할까?

- 호스트 운영체제는 여전히 있으나 그 위에 여러 대의 머신을 설치하진 않음
    - 그 위에 OS Built-in 운영체제에 기본 내재되거나 컨테이너 에뮬레이트를 지원하는 내장 컨테이너를 활용한다.
    - 그 위에 도커 엔진이라는 도구를 두고 설치할 때 도커에 의해 모두 설정한다.
    - 도커 엔진을 기반으로 컨테이너를 동작시킨다.

- 각 컨테이너에는 코드에 필요한 툴, 라이브러리, 종속성은 설치하나 운영체제나 그 외에 추가 도구를 설치하지 않는다. 따라서 버추얼 머신 보단 훨씬 적게 설치해 가볍다.
- OS에 오버헤드가 적고, 매우 빠르며, 디스크 공간 사용도 최소화한다.
- 데이터를 공유하고 재구성하고 분배하는게 쉽다
- 전체 기계가 아닌 환경을 캡슐화한다.

### 추가 : Emulation

에뮬레이션이 뭘까?

에뮬레이션은 한 시스템이 다른 시스템을 흉내 내도록 하는 걸 말하는데 예를 들어, 한 소스트웨어 시스템 A에서는 구동되고 B에선 구동되지 않는다면 B에서 A의 동작을 에뮬레이션해 구동하게 한다. 

반면 버추얼 머신의 경우 시스템 A를 B와 C 2개의 서버로 분리해 각각 독립적인 컨테이너로써 쓴다. 

에뮬레이션에서 소프트웨어는 하드웨어를 대신해 하드웨어와 같은 방식으로 동작하는 환경을 구성한다. 이 때, 에뮬레이션 프로세스 사이클을 할당함으로서 프로세서에 피해를 주는 대신에 사이클은 실행 연산으로 활용한다. 

출처

[http://www.smallpc.co.kr/ab-5940-12](http://www.smallpc.co.kr/ab-5940-12)
